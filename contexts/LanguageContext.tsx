
import React, { createContext, useContext, useMemo, useCallback } from 'react';

type Language = 'vi';

const interpolate = (str: string, values: Record<string, any>): string => {
  return str.replace(/{(\w+)}/g, (match, key) => {
    return values[key] !== undefined ? String(values[key]) : match;
  });
};

const VI_TRANSLATIONS: Record<string, string> = {
  "header.title": "NH√ìM TH√ÇN H·ª¨U PH√ö NHU·∫¨N",
  "nav.home": "Trang ch·ªß",
  "nav.members": "Th√†nh vi√™n",
  "nav.guests": "Kh√°ch m·ªùi",
  "nav.events": "S·ª± ki·ªán",
  "adminMode": "Ch·∫ø ƒë·ªô Admin",
  "home.welcome": "Ch√†o m·ª´ng ƒë·∫øn v·ªõi",
  "home.history": "L·ªãch s·ª≠ H√¨nh th√†nh",
  "home.mission": "√ù nghƒ©a & M·ª•c ti√™u",
  "home.keyEvents": "C√°c S·ª± ki·ªán Quan tr·ªçng",
  "home.recentActivity": "Ho·∫°t ƒë·ªông g·∫ßn ƒë√¢y",
  "home.groupSong": "B√†i ca NH√ìM TH√ÇN H·ª¨U PH√ö NHU·∫¨N",
  "home.adminTools": "C√¥ng c·ª• Qu·∫£n tr·ªã vi√™n",
  "home.broadcastPrompt": "G·ª≠i th√¥ng b√°o ƒë·∫øn t·∫•t c·∫£ th√†nh vi√™n ƒë√£ b·∫≠t nh·∫≠n tin.",
  "home.broadcastAction": "G·ª≠i th√¥ng b√°o",
  "home.manageHero": "Qu·∫£n l√Ω ·∫£nh b√¨a",
  "home.manageVideo": "Qu·∫£n l√Ω video",
  "edit": "Ch·ªânh s·ª≠a",
  "common.delete": "X√≥a",
  "common.notUpdated": "Ch∆∞a c·∫≠p nh·∫≠t",
  "common.updateNeeded": "Vui l√≤ng c·∫≠p nh·∫≠t th√¥ng tin chi ti·∫øt.",
  "common.new": "m·ªõi",
  "common.loading": "ƒêang t·∫£i...",
  "common.openInNewTab": "M·ªü trong tab m·ªõi",
  "common.saveSuccess": "D·ªØ li·ªáu ƒë√£ ƒë∆∞·ª£c l∆∞u an to√†n!",
  "common.expand": "M·ªü r·ªông giao di·ªán",
  "common.collapse": "Thu g·ªçn giao di·ªán",
  "common.undo": "Ho√†n t√°c",
  "common.redo": "L√†m l·∫°i",
  "members.title": "Th√†nh vi√™n ch√≠nh th·ª©c (Th√¢n H·ªØu)",
  "guests.title": "Kh√°ch m·ªùi & C·ªông t√°c vi√™n",
  "events.title": "S·ª± ki·ªán & Ho·∫°t ƒë·ªông",
  "add.member": "Th√™m th√†nh vi√™n m·ªõi",
  "add.guest": "Th√™m kh√°ch m·ªùi m·ªõi",
  "add.event": "Th√™m s·ª± ki·ªán m·ªõi",
  "memberCard.viewDetails": "Xem chi ti·∫øt",
  "memberCard.editProfile": "Ch·ªânh s·ª≠a h·ªì s∆°",
  "memberCard.shareProfile": "Chia s·∫ª h·ªì s∆° c·ªßa {name}",
  "memberCard.share": "Chia s·∫ª",
  "eventCard.viewDetails": "Xem chi ti·∫øt & T√≥m t·∫Øt AI",
  "eventCard.hasYoutube": "C√≥ video YouTube",
  "eventCard.hasVideo": "C√≥ video",
  "eventCard.hasAudio": "C√≥ audio",
  "modal.edit": "Ch·ªânh s·ª≠a: {name}",
  "modal.editContent": "Ch·ªânh s·ª≠a: {title}",
  "modal.addMember": "Th√™m Th√†nh vi√™n m·ªõi",
  "modal.addGuest": "Th√™m Kh√°ch m·ªùi m·ªõi",
  "modal.addEvent": "Th√™m s·ª± ki·ªán m·ªõi",
  "modal.close": "ƒê√≥ng",
  "form.name": "T√™n",
  "form.role": "V·ªã tr√≠",
  "form.profession": "Ngh·ªÅ nghi·ªáp",
  "form.email": "Email",
  "form.address": "ƒê·ªãa ch·ªâ",
  "form.description": "M√¥ t·∫£",
  "form.joinedDate": "Ng√†y tham gia",
  "form.eventName": "T√™n s·ª± ki·ªán",
  "form.eventDate": "Ng√†y di·ªÖn ra",
  "form.location": "ƒê·ªãa ƒëi·ªÉm",
  "form.youtubeUrl": "ƒê∆∞·ªùng d·∫´n Video YouTube (T√πy ch·ªçn)",
  "form.enterYoutubeUrl": "Nh·∫≠p ƒë∆∞·ªùng d·∫´n video YouTube",
  "form.enterWebUrl": "Nh·∫≠p ƒë∆∞·ªùng d·∫´n URL t·ª´ web",
  "form.youtubeValid": "ƒê∆∞·ªùng d·∫´n YouTube h·ª£p l·ªá.",
  "form.youtubeInvalid": "ƒê∆∞·ªùng d·∫´n YouTube kh√¥ng h·ª£p l·ªá.",
  "form.webInvalid": "ƒê∆∞·ªùng d·∫´n URL kh√¥ng h·ª£p l·ªá.",
  "form.mediaManager": "Qu·∫£n l√Ω Media",
  "form.images": "H√¨nh ·∫£nh",
  "form.videos": "Videos",
  "form.audios": "Audios",
  "form.cancel": "H·ªßy",
  "form.save": "C·∫≠p nh·∫≠t & L∆∞u l·∫°i",
  "form.updateProfile": "C·∫¨P NH·∫¨T CH·ªàNH S·ª¨A",
  "form.add": "Th√™m & L∆∞u l·∫°i",
  "form.addMember": "Th√™m th√†nh vi√™n",
  "form.addEvent": "Th√™m s·ª± ki·ªán",
  "form.activities": "Ho·∫°t ƒë·ªông ƒë√£ tham gia",
  "form.addActivity": "Th√™m ho·∫°t ƒë·ªông",
  "form.activityPlaceholder": "Nh·∫≠p t√™n ho·∫°t ƒë·ªông...",
  "memberDetails.description": "M√¥ t·∫£",
  "memberDetails.profession": "Ngh·ªÅ nghi·ªáp",
  "memberDetails.email": "Email",
  "memberDetails.address": "ƒê·ªãa ch·ªâ",
  "memberDetails.joinedDate": "Ng√†y tham gia",
  "memberDetails.activities": "Ho·∫°t ƒë·ªông ƒë√£ tham gia",
  "memberDetails.noActivities": "Ch∆∞a c√≥ ho·∫°t ƒë·ªông n√†o ƒë∆∞·ª£c ghi nh·∫≠n.",
  "memberDetails.loginCodeTitle": "M√£ ƒëƒÉng nh·∫≠p c·ªßa b·∫°n:",
  "memberDetails.generateNewCode": "T·∫°o m√£ m·ªõi",
  "memberDetails.copyCode": "Sao ch√©p m√£",
  "eventDetails.aiSummaryTitle": "T√≥m t·∫Øt s·ª± ki·ªán b·∫±ng AI",
  "eventDetails.generateSummary": "T·∫°o t√≥m t·∫Øt",
  "eventDetails.generating": "ƒêang x·ª≠ l√Ω...",
  "eventDetails.aiThinking": "AI ƒëang suy nghƒ©...",
  "eventDetails.aiPrompt": "Nh·∫•n n√∫t b√™n d∆∞·ªõi ƒë·ªÉ t·∫°o m·ªôt b·∫£n t√≥m t·∫Øt ng·∫Øn g·ªçn v√† h·∫•p d·∫´n cho s·ª± ki·ªán n√†y.",
  "eventDetails.video": "Video S·ª± ki·ªán",
  "eventDetails.watchOnYoutube": "Xem video tr√™n YouTube",
  "eventDetails.gallery": "Th∆∞ vi·ªán Media",
  "eventCard.description": "M√¥ t·∫£ chi ti·∫øt",
  "eventCard.otherImages": "H√¨nh ·∫£nh kh√°c",
  "settings.title": "C√†i ƒë·∫∑t H·ªá th·ªëng",
  "settings.displayMode": "Ch·∫ø ƒë·ªô hi·ªÉn th·ªã",
  "settings.theme": "Ch·ªß ƒë·ªÅ m√†u s·∫Øc",
  "settings.fontFamily": "Ph√¥ng ch·ªØ",
  "settings.fontSize": "C·ª° ch·ªØ",
  "settings.language": "Ng√¥n ng·ªØ",
  "settings.apiConfiguration": "C·∫•u h√¨nh API Key",
  "settings.geminiKey": "Gemini API Key",
  "settings.openaiKey": "OpenAI API Key",
  "settings.getKey": "L·∫•y API Key",
  "settings.keyPlaceholder": "Nh·∫≠p API Key c·ªßa b·∫°n...",
  "settings.keySaved": "ƒê√£ l∆∞u!",
  "theme.light": "S√°ng",
  "theme.dark": "T·ªëi",
  "theme.contrast": "T∆∞∆°ng ph·∫£n",
  "theme.indigo": "Ch√†m (M·∫∑c ƒë·ªãnh)",
  "theme.teal": "Xanh m√≤ng k√©t",
  "theme.rose": "H·ªìng",
  "theme.slate": "X√°m ƒëen",
  "theme.green": "Xanh l√°",
  "theme.orange": "Cam",
  "theme.purple": "T√≠m",
  "font.inter": "Inter (M·∫∑c ƒë·ªãnh)",
  "font.roboto": "Roboto",
  "font.lora": "Lora",
  "font.poppins": "Poppins",
  "font.playfair": "Playfair",
  "font.arial": "Arial",
  "font.times": "Times New Roman / VnTime",
  "font.system": "H·ªá th·ªëng",
  "fontSize.xs": "R·∫•t nh·ªè",
  "fontSize.sm": "Nh·ªè",
  "fontSize.base": "V·ª´a (M·∫∑c ƒë·ªãnh)",
  "fontSize.lg": "L·ªõn",
  "fontSize.xl": "R·∫•t l·ªõn",
  "error.summary": "Kh√¥ng th·ªÉ t·∫°o t√≥m t·∫Øt. Vui l√≤ng ki·ªÉm tra API Key trong C√†i ƒë·∫∑t.",
  "error.missingKey": "Vui l√≤ng nh·∫≠p API Key trong ph·∫ßn C√†i ƒë·∫∑t ƒë·ªÉ s·ª≠ d·ª•ng t√≠nh nƒÉng n√†y.",
  "notifications.unsupported": "Tr√¨nh duy·ªát c·ªßa b·∫°n kh√¥ng h·ªó tr·ª£ th√¥ng b√°o.",
  "notifications.grantedTitle": "Th√¥ng b√°o ƒë√£ ƒë∆∞·ª£c b·∫≠t!",
  "notifications.grantedBody": "B·∫°n s·∫Ω nh·∫≠n ƒë∆∞·ª£c th√¥ng b√°o v·ªÅ c√°c ho·∫°t ƒë·ªông m·ªõi c·ªßa nh√≥m.",
  "notifications.denied": "B·∫°n ƒë√£ ch·∫∑n th√¥ng b√°o. Vui l√≤ng v√†o c√†i ƒë·∫∑t tr√¨nh duy·ªát ƒë·ªÉ cho ph√©p.",
  "notifications.enable": "B·∫≠t th√¥ng b√°o",
  "notifications.enabled": "Th√¥ng b√°o ƒë√£ ƒë∆∞·ª£c b·∫≠t",
  "notifications.blocked": "Th√¥ng b√°o ƒë√£ b·ªã ch·∫∑n. Vui l√≤ng thay ƒë·ªïi trong c√†i ƒë·∫∑t tr√¨nh duy·ªát.",
  "notifications.newEventTitle": "S·ª± ki·ªán M·ªõi!",
  "notifications.newEventBody": "M·ªôt s·ª± ki·ªán m·ªõi v·ª´a ƒë∆∞·ª£c t·∫°o: \"{eventName}\". Nh·∫•n ƒë·ªÉ xem chi ti·∫øt!",
  "gemini.eventSummaryPrompt": "B·∫°n l√† m·ªôt chuy√™n gia truy·ªÅn th√¥ng. H√£y vi·∫øt m·ªôt b·∫£n t√≥m t·∫Øt ng·∫Øn g·ªçn v√† h·∫•p d·∫´n (kho·∫£ng 3-4 c√¢u) cho s·ª± ki·ªán sau ƒë·ªÉ ƒëƒÉng l√™n m·∫°ng x√£ h·ªôi.\n\nT√™n s·ª± ki·ªán: \"{eventName}\"\nM√¥ t·∫£: \"{eventDescription}\"\n\nT·∫≠p trung v√†o kh√¥ng kh√≠ v√† √Ω nghƒ©a c·ªßa s·ª± ki·ªán.\nQUAN TR·ªåNG: Ph·∫£n h·ªìi B·∫ÆT BU·ªòC ph·∫£i b·∫±ng ti·∫øng Vi·ªát.",
  "login.title": "ƒêƒÉng nh·∫≠p Th√†nh vi√™n",
  "login.titleAdmin": "X√°c th·ª±c Admin",
  "login.cta": "ƒêƒÉng nh·∫≠p TV v√† KM",
  "login.logout": "ƒêƒÉng xu·∫•t",
  "login.code": "M√£ ƒëƒÉng nh·∫≠p",
  "login.codePlaceholder": "Nh·∫≠p m√£ do Admin cung c·∫•p",
  "login.invalidCode": "M√£ ƒëƒÉng nh·∫≠p kh√¥ng h·ª£p l·ªá ho·∫∑c kh√¥ng t·ªìn t·∫°i.",
  "login.notAdmin": "T√†i kho·∫£n n√†y kh√¥ng c√≥ quy·ªÅn Admin.",
  "login.password": "M·∫≠t kh·∫©u Admin",
  "login.enterPassword": "Nh·∫≠p m·∫≠t kh·∫©u",
  "login.createPassword": "T·∫°o m·∫≠t kh·∫©u Admin",
  "login.confirmPassword": "X√°c nh·∫≠n m·∫≠t kh·∫©u",
  "login.passwordMismatch": "M·∫≠t kh·∫©u kh√¥ng kh·ªõp.",
  "login.passwordWrong": "M·∫≠t kh·∫©u kh√¥ng ch√≠nh x√°c.",
  "login.passwordCreated": "ƒê√£ t·∫°o m·∫≠t kh·∫©u th√†nh c√¥ng.",
  "login.passwordChanged": "ƒê√£ ƒë·ªïi m·∫≠t kh·∫©u th√†nh c√¥ng.",
  "login.setupPrompt": "Ch∆∞a c√≥ m·∫≠t kh·∫©u Admin. Vui l√≤ng t·∫°o m·∫≠t kh·∫©u m·ªõi ƒë·ªÉ b·∫£o v·ªá quy·ªÅn qu·∫£n tr·ªã.",
  "login.changePassword": "ƒê·ªïi m·∫≠t kh·∫©u Admin",
  "login.newPassword": "M·∫≠t kh·∫©u m·ªõi",
  "login.userPrompt": "Vui l√≤ng nh·∫≠p m√£ th√†nh vi√™n do Admin cung c·∫•p ƒë·ªÉ ƒëƒÉng nh·∫≠p.",
  "confirm.deleteTitle": "X√°c nh·∫≠n X√≥a",
  "confirm.deleteMember": "B·∫°n c√≥ ch·∫Øc ch·∫Øn mu·ªën x√≥a th√†nh vi√™n {name} kh√¥ng? H√†nh ƒë·ªông n√†y kh√¥ng th·ªÉ ho√†n t√°c.",
  "confirm.confirmDelete": "X√°c nh·∫≠n X√≥a",
  "confirm.deleteEventTitle": "X√°c nh·∫≠n X√≥a S·ª± ki·ªán",
  "confirm.deleteEvent": "B·∫°n c√≥ ch·∫Øc ch·∫Øn mu·ªën x√≥a s·ª± ki·ªán {name} kh√¥ng? H√†nh ƒë·ªông n√†y kh√¥ng th·ªÉ ho√†n t√°c.",
  "memberType.member": "Th√†nh vi√™n",
  "memberType.guest": "Kh√°ch m·ªùi",
  "activity.added": "ƒê√£ th√™m",
  "activity.noActivity": "Ch∆∞a c√≥ ho·∫°t ƒë·ªông n√†o g·∫ßn ƒë√¢y.",
  "time.yearsAgo": "{count} nƒÉm tr∆∞·ªõc",
  "time.monthsAgo": "{count} th√°ng tr∆∞·ªõc",
  "time.daysAgo": "{count} ng√†y tr∆∞·ªõc",
  "time.hoursAgo": "{count} gi·ªù tr∆∞·ªõc",
  "time.minutesAgo": "{count} ph√∫t tr∆∞·ªõc",
  "time.justNow": "V√†i gi√¢y tr∆∞·ªõc",
  "calendar.prevMonth": "Th√°ng tr∆∞·ªõc",
  "calendar.nextMonth": "Th√°ng sau",
  "calendar.addEventOn": "Th√™m s·ª± ki·ªán v√†o ng√†y {date}",
  "clipboard.copy": "Sao ch√©p n·ªôi dung",
  "clipboard.copied": "ƒê√£ sao ch√©p!",
  "clipboard.copyFailed": "Sao ch√©p th·∫•t b·∫°i!",
  "clipboard.unsupported": "Kh√¥ng th·ªÉ sao ch√©p. Tr√¨nh duy·ªát c·ªßa b·∫°n kh√¥ng h·ªó tr·ª£ t√≠nh nƒÉng n√†y.",
  "bulkadd.title": "Th√™m h√†ng lo·∫°t {memberType}",
  "bulkadd.dragDrop": "K√©o v√† th·∫£ ·∫£nh v√†o ƒë√¢y",
  "bulkadd.clickToSelect": "ho·∫∑c nh·∫•n ƒë·ªÉ ch·ªçn t·ªáp",
  "bulkadd.multiSelect": "B·∫°n c√≥ th·ªÉ ch·ªçn nhi·ªÅu ·∫£nh c√πng l√∫c",
  "bulkadd.selectedImages": "·∫¢nh ƒë√£ ch·ªçn ({count}):",
  "bulkadd.deleteImage": "X√≥a ·∫£nh",
  "bulkadd.addMembers": "Th√™m {count} {memberType}",
  "broadcast.title": "G·ª≠i th√¥ng b√°o chung",
  "broadcast.formTitle": "Ti√™u ƒë·ªÅ",
  "broadcast.formTitlePlaceholder": "VD: Nh·∫Øc nh·ªü quan tr·ªçng",
  "broadcast.formMessage": "N·ªôi dung",
  "broadcast.formMessagePlaceholder": "Nh·∫≠p n·ªôi dung th√¥ng b√°o c·ªßa b·∫°n t·∫°i ƒë√¢y...",
  "broadcast.send": "G·ª≠i th√¥ng b√°o",
  "heroManager.title": "Qu·∫£n l√Ω ·∫£nh b√¨a ƒë·ªông",
  "heroManager.prompt": "Th√™m ho·∫∑c x√≥a c√°c ·∫£nh s·∫Ω ƒë∆∞·ª£c hi·ªÉn th·ªã trong slideshow tr√™n trang ch·ªß.",
  "heroManager.addImage": "Th√™m ·∫£nh",
  "socialManager.title": "Qu·∫£n l√Ω Li√™n k·∫øt M·∫°ng x√£ h·ªôi & Website",
  "socialManager.facebook": "URL Facebook",
  "socialManager.zalo": "URL Zalo",
  "socialManager.viber": "URL Viber",
  "socialManager.website": "URL Website",
  "videoManager.title": "Qu·∫£n l√Ω B√†i ca NH√ìM TH√ÇN H·ª¨U PH√ö NHU·∫¨N",
  "videoManager.preview": "Xem tr∆∞·ªõc & ·∫¢nh n·ªÅn",
  "videoManager.previewFailed": "Kh√¥ng th·ªÉ xem tr∆∞·ªõc video.",
  "videoManager.youtubeLinked": "Video YouTube ƒë√£ ƒë∆∞·ª£c li√™n k·∫øt.",
  "videoManager.noPreview": "B·∫£n xem tr∆∞·ªõc kh√¥ng c√≥ s·∫µn trong c·ª≠a s·ªï n√†y.",
  "videoManager.noVideo": "Ch∆∞a c√≥ video ƒë∆∞·ª£c ch·ªçn",
  "videoManager.youtubeUrl": "ƒê∆∞·ªùng d·∫´n video YouTube",
  "videoManager.webUrl": "URL Video t·ª´ Web",
  "videoManager.or": "ho·∫∑c",
  "videoManager.upload": "T·∫£i l√™n t·ªáp video t·ª´ m√°y t√≠nh",
  "videoManager.save": "L∆∞u",
  "videoManager.customThumbnail": "·∫¢nh n·ªÅn video (Thumbnail)",
  "videoManager.uploadThumbnail": "T·∫£i ·∫£nh n·ªÅn l√™n",
  "videoManager.useDefaultThumbnail": "D√πng ·∫£nh m·∫∑c ƒë·ªãnh YouTube",
  "videoManager.watchOnYoutube": "Xem tr√™n YouTube",
  "sort.sortBy": "S·∫Øp x·∫øp:",
  "sort.manual": "Th·ªß c√¥ng (K√©o th·∫£)",
  "sort.nameAsc": "T√™n (A-Z)",
  "sort.nameDesc": "T√™n (Z-A)",
  "sort.role": "C·∫•p b·∫≠c/Vai tr√≤",
  "sort.joinedDateNewest": "Ng√†y tham gia (M·ªõi nh·∫•t)",
  "sort.joinedDateOldest": "Ng√†y tham gia (C≈© nh·∫•t)",
  "sort.dateNewest": "M·ªõi nh·∫•t",
  "sort.dateOldest": "C≈© nh·∫•t",
  "search.placeholder": "T√¨m ki·∫øm theo t√™n ho·∫∑c ngh·ªÅ nghi·ªáp...",
  "media.filter": "L·ªçc theo lo·∫°i:",
  "media.all": "T·∫•t c·∫£",
  "media.image": "H√¨nh ·∫£nh",
  "media.video": "Video",
  "media.audio": "Audio/Nh·∫°c",
  "media.youtube": "YouTube",
  "media.web": "Web Link",
  "admin.tool": "C√¥ng c·ª• Admin",
  "admin.dashboardTitle": "B·∫£ng ƒëi·ªÅu khi·ªÉn Qu·∫£n tr·ªã vi√™n",
  "admin.quickActions": "T√°c v·ª• nhanh",
  "admin.exportData": "Xu·∫•t d·ªØ li·ªáu d·ª± ph√≤ng (JSON)",
  "admin.exportDataDesc": "T·∫£i v·ªÅ to√†n b·ªô th√¥ng tin ƒë·ªÉ l∆∞u tr·ªØ ri√™ng.",
  "admin.importData": "Kh√¥i ph·ª•c d·ªØ li·ªáu",
  "admin.importDataDesc": "Nh·∫≠p t·ªáp JSON ƒë√£ t·∫£i v·ªÅ ƒë·ªÉ kh√¥i ph·ª•c.",
  "admin.changePassword": "ƒê·ªïi m·∫≠t kh·∫©u Admin",
  "admin.changePasswordDesc": "Thay ƒë·ªïi m·∫≠t kh·∫©u ƒëƒÉng nh·∫≠p ch·∫ø ƒë·ªô Admin.",
  "guide.title": "H∆∞·ªõng d·∫´n ch·ªânh s·ª≠a th√†nh vi√™n üëç",
  "guide.tabMember": "D√†nh cho Th√†nh vi√™n",
  "guide.tabAdmin": "D√†nh cho Tr∆∞·ªüng nh√≥m",
  "guide.intro": "ƒê·ªÉ c·∫≠p nh·∫≠t th√¥ng tin c√° nh√¢n c·ªßa b·∫°n, vui l√≤ng th·ª±c hi·ªán theo c√°c b∆∞·ªõc sau:",
  "guide.adminIntro": "Quy tr√¨nh qu·∫£n l√Ω v√† t·ªïng h·ª£p d·ªØ li·ªáu d√†nh cho Tr∆∞·ªüng nh√≥m:",
  "guide.step": "Ph·∫ßn",
  "guide.step1Title": "Th√¥ng tin t·ª´ Admin",
  "guide.step1Desc": "Tr∆∞·ªüng nh√≥m (Admin) s·∫Ω cung c·∫•p link c·ªßa ·ª©ng d·ª•ng v√† m·∫≠t kh·∫©u (m√£ th√†nh vi√™n) ƒë·ªÉ ƒëƒÉng nh·∫≠p.",
  "guide.step2Title": "B·∫Øt ƒë·∫ßu ch·ªânh s·ª≠a üëç",
  "guide.step2Desc": "Click v√†o menu 'Th√†nh vi√™n', click v√†o n√∫t 'ƒêƒÉng nh·∫≠p', sau ƒë√≥ nh·∫≠p m·∫≠t kh·∫©u (m√£) do Tr∆∞·ªüng nh√≥m cung c·∫•p.",
  "guide.step3Title": "Th·ª±c hi·ªán c·∫≠p nh·∫≠t",
  "guide.step3Desc": "T√¨m ƒë·∫øn th·∫ª t√™n c·ªßa b·∫°n, nh·∫•n 'Ch·ªânh s·ª≠a h·ªì s∆°' v√† thay ƒë·ªïi th√¥ng tin theo h∆∞·ªõng d·∫´n tr√™n m√†n h√¨nh.",
  "guide.step4Title": "Ho√†n t·∫•t & L∆∞u file .json",
  "guide.step4Desc": "Click v√†o n√∫t 'C·∫¨P NH·∫¨T CH·ªàNH S·ª¨A' - ch·ªçn 'OK' ƒë·ªÉ h·ªá th·ªëng l∆∞u t·ªáp .json v√†o th∆∞ m·ª•c t·∫£i v·ªÅ tr√™n thi·∫øt b·ªã c·ªßa b·∫°n.",
  "guide.step5Title": "G·ª≠i d·ªØ li·ªáu cho Admin",
  "guide.step5Desc": "Copy file .json ƒë√£ t·∫£i v·ªÅ v√† g·ª≠i cho Tr∆∞·ªüng nh√≥m ƒë·ªÉ c·∫≠p nh·∫≠t ch√≠nh th·ª©c l√™n h·ªá th·ªëng.",
  "guide.adminStep1Title": "K√≠ch ho·∫°t quy·ªÅn Admin",
  "guide.adminStep1Desc": "B·∫≠t c√¥ng t·∫Øc 'Admin' tr√™n menu v√† nh·∫≠p m·∫≠t kh·∫©u qu·∫£n tr·ªã ƒë·ªÉ truy c·∫≠p c√°c t√≠nh nƒÉng n√¢ng cao.",
  "guide.adminStep2Title": "Qu·∫£n l√Ω n·ªôi dung",
  "guide.adminStep2Desc": "Tr∆∞·ªüng nh√≥m c√≥ to√†n quy·ªÅn s·ª≠a: l·ªãch s·ª≠, s·ª© m·ªánh, th√†nh vi√™n, kh√°ch m·ªùi, s·ª± ki·ªán v√† g·ª≠i th√¥ng b√°o chung.",
  "guide.adminStep3Title": "Cung c·∫•p m√£ ƒëƒÉng nh·∫≠p",
  "guide.adminStep3Desc": "Click v√†o 'Xem chi ti·∫øt' c·ªßa t·ª´ng ng∆∞·ªùi ƒë·ªÉ copy 'M√£ ƒëƒÉng nh·∫≠p'. Sau ƒë√≥ g·ª≠i Link app + M√£ n√†y cho h·ªç.",
  "guide.adminStep4Title": "Th√†nh vi√™n t·ª± s·ª≠a",
  "guide.adminStep4Desc": "Th√†nh vi√™n l√†m theo h∆∞·ªõng d·∫´n (n√∫t ?) ƒë·ªÉ t·ª± s·ª≠a th√¥ng tin v√† xu·∫•t file .json g·ª≠i l·∫°i cho b·∫°n.",
  "guide.adminStep5Title": "T·ªïng h·ª£p d·ªØ li·ªáu",
  "guide.adminStep5Desc": "V√†o 'C√¥ng c·ª• Admin' -> 'Kh√¥i ph·ª•c d·ªØ li·ªáu'. Ch·ªçn l·∫ßn l∆∞·ª£t c√°c file .json th√†nh vi√™n g·ª≠i ƒë·ªÉ c·∫≠p nh·∫≠t v√†o h·ªá th·ªëng.",
  "guide.outro": "Sau khi ho√†n t·∫•t ch·ªânh s·ª≠a, b·∫°n v·∫´n c√≥ th·ªÉ xem th√¥ng tin c√°c n·ªôi dung kh√°c c·ªßa ·ª©ng d·ª•ng b√¨nh th∆∞·ªùng.",
  "guide.gotIt": "ƒê√£ hi·ªÉu & B·∫Øt ƒë·∫ßu"
};

interface LanguageContextType {
  language: Language;
  t: (key: string, values?: Record<string, any>) => string;
  isLoaded: boolean;
}

const LanguageContext = createContext<LanguageContextType | undefined>(undefined);

export const LanguageProvider: React.FC<{ children: React.ReactNode }> = ({ children }) => {
  const t = useCallback((key: string, values?: Record<string, any>): string => {
    const message = VI_TRANSLATIONS[key] || key;
    return values ? interpolate(message, values) : message;
  }, []);

  const value = useMemo(() => ({
    language: 'vi' as const,
    t,
    isLoaded: true 
  }), [t]);

  return (
    <LanguageContext.Provider value={value}>
      {children}
    </LanguageContext.Provider>
  );
};

export const useLanguage = (): LanguageContextType => {
  const context = useContext(LanguageContext);
  if (!context) {
    throw new Error('useLanguage must be used within a LanguageProvider');
  }
  return context;
};
